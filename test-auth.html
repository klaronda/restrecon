<!DOCTYPE html>
<html>
<head>
    <title>Auth Test</title>
</head>
<body>
    <h1>Supabase Auth Test</h1>
    <div>
        <input type="email" id="email" placeholder="Email" />
        <input type="password" id="password" placeholder="Password" />
        <button onclick="testLogin()">Test Login</button>
    </div>
    <pre id="output"></pre>

    <script type="module">
        import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';
        
        // Replace with your actual values
        const supabaseUrl = 'https://eqqbsiuqjnqpiiuumanu.supabase.co';
        const supabaseKey = prompt('Enter your Supabase anon key:');
        
        const supabase = createClient(supabaseUrl, supabaseKey);
        
        window.testLogin = async function() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const output = document.getElementById('output');
            
            output.textContent = 'Testing login...\n';
            
            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email,
                    password,
                });
                
                if (error) {
                    output.textContent += `\n❌ ERROR:\n`;
                    output.textContent += `Message: ${error.message}\n`;
                    output.textContent += `Code: ${error.code || 'N/A'}\n`;
                    output.textContent += `Status: ${error.status || 'N/A'}\n`;
                    output.textContent += `Full Error: ${JSON.stringify(error, null, 2)}\n`;
                } else {
                    output.textContent += `\n✅ SUCCESS:\n`;
                    output.textContent += `User ID: ${data.user?.id}\n`;
                    output.textContent += `Email: ${data.user?.email}\n`;
                    output.textContent += `Confirmed: ${data.user?.email_confirmed_at ? 'Yes' : 'No'}\n`;
                    output.textContent += `Session: ${data.session ? 'Created' : 'Missing'}\n`;
                }
            } catch (err) {
                output.textContent += `\n❌ EXCEPTION:\n${err}\n`;
            }
        };
    </script>
</body>
</html>

